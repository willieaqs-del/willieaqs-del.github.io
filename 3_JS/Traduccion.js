// Idioma predeterminado
let idioma = 'es';

// Diccionario de traducciones
const traducciones = {
  es: {
    "header.title":"Terrenos 100% Financiados en La Fortuna",
    "header.subtitle":"Con Grupo EcoQuintas, cumplir el sueño de tener tu lote propio nunca fue tan fácil.",  
    "header.menu1":"Nosotros",
    "header.menu2":"Proyectos",
    "header.menu3":"Propiedades",
    "header.menu4":"Contáctenos",
    "header.menu5":"Servicios",
    "header.menu6":"Financiamiento",

    "nosotros.title": "Nosotros",
    "nosotros.subtitle1": "¿Quiénes somos?",
    "nosotros.text1": "Real Estate es una empresa 100% de capital costarricense, dedicada a la comercialización de terrenos en La Fortuna de San Carlos, uno de los destinos más hermosos y prometedores de Costa Rica. Nuestro propósito es ayudar a cada persona a cumplir el sueño de tener su propio terreno, ofreciendo un servicio cercano, transparente y confiable en cada paso del camino.",
    "nosotros.subtitle2": "Nuestra historia",
    "nosotros.text2": "Con más de 20 años de experiencia en el sector inmobiliario, nos hemos consolidado como una empresa de gran confianza en la venta de terrenos, gracias a nuestro trato personalizado y al profundo conocimiento que tenemos del mercado local.Nuestra prioridad siempre ha sido el cliente: por eso acompañamos cada proceso de compra con transparencia, seguridad y dedicación, asegurando que cada decisión se tome con total confianza, una de nuestras mayores fortalezas es ofrecer planes de financiamiento 100% accesibles, sin prima y sin fiador, lo que permite que más familias y personas puedan cumplir el sueño de convertirse en propietarios.",
    "mision.title": "Misión",
    "mision.text": "Nuestra misión es acompañar y guiar a nuestros clientes en la compra de su terreno ideal en La Fortuna de San Carlos. Ofrecemos un servicio personalizado y confiable, basado en la transparencia, la seguridad y la satisfacción en cada paso del proceso. Con opciones de financiamiento del 100%, trabajamos con pasión para que más personas hagan realidad el sueño de tener su propia propiedad.",
    "vision.title": "Visión",
    "vision.text": "Aspiramos a consolidarnos como la inmobiliaria líder en La Fortuna de San Carlos, reconocida por la excelencia de nuestro servicio y la confianza que generamos en cada cliente. Nuestro objetivo es ser la primera opción para quienes buscan adquirir un terreno de forma accesible, segura y con el respaldo de un equipo profesional y comprometido.",

    "proyectos.title":"Lotes en condominio y residenciales diseñados para tu estilo de vida.",
    "proyecto.ver":"Ver Proyecto",

    "filters.minPrice": "Precio Mínimo (₡)",
    "filters.maxPrice": "Precio Máximo (₡)",
    "filters.minArea": "Área mínima (m²)",
    "filters.maxArea": "Área máxima (m²)",
    "filters.location": "Ubicación...",
    "filters.condos": "(Condominios)",
    "filters.sort": "Ordenar por",
    "filters.priceAsc": "Precio Ascendente",
    "filters.priceDesc": "Precio Descendente",
    "filters.areaAsc": "Área Ascendente",
    "filters.areaDesc": "Área Descendente",
    "filters.search": "Buscar",
    "properties.title": "Propiedades disponibles para tu inversión ideal",
    "controls.show": "Mostrar:",
    "propiedad.ubicacion": "Ubicación:",
    "propiedad.precio": "Precio:",
    "propiedad.precioMetro": "| ₡/m²:",
    "propiedad.area": "Área:",
    "propiedad.descuento": "Descuento:",
    "propiedad.pagoMensual": "Pago mensual (10 años):",
    "propiedad.condominio": "Condominio:",
    "propiedad.verDetalles": "Ver Detalles",

    "contact.teamTitle": "Contacta a Nuestro Equipo de Ventas",
    "equipo.correo": "Correo",
    "equipo.llamar": "Llamar",
    "contact.formTitle": "Contáctenos",
    "contact.labelName": "Nombre",
    "contact.labelLastName": "Apellidos",
    "contact.labelEmail": "Correo Electrónico",
    "contact.labelPhone": "Teléfono",
    "contact.labelCountry": "País",
    "contact.selectCountry": "Seleccione su país",
    "contact.optionOther": "Otro",
    "contact.labelMessage": "Consulta",
    "contact.labelVerify": "¿Eres humano? Escribe \"sí\"",
    "contact.buttonSend": "Enviar",
    "contact.titleName": "Solo letras",
    "contact.titleLastName": "Solo letras",
    "contact.titlePhone": "Solo números",
    "contact.titleVerify": "Escribe sí para continuar",

    "services.heading": "Consulte por nuestros servicios adicionales",

    "finance.title": "Cálculo su cuota así de fácil y rápido",
    "finance.labelPrice": "Precio del lote (₡)",
    "finance.placeholderPrice": "Ingrese el precio del lote",
    "finance.labelTerm": "Plazo de financiamiento",
    "finance.term60": "5 años – 60 cuotas",
    "finance.term96": "8 años – 96 cuotas",
    "finance.term120": "10 años – 120 cuotas",
    "finance.term180": "15 años – 180 cuotas",
    "finance.term240": "20 años – 240 cuotas",
    "finance.labelType": "Tipo de financiamiento",
    "finance.optionUs": "Con nosotros – 12% anual",
    "finance.buttonCalculate": "Calcular cuota mensual",
    "finance.labelResult": "Resultado",
    "finance.placeholderResult": "Monto de la cuota mensual",

    "footer.addressTitle": "Dirección",
    "footer.addressText": "La Fortuna, San Carlos<br>Alajuela, Costa Rica",
    "footer.hoursTitle": "Horario de Atención",
    "footer.hoursText": "Lunes a Viernes: 8am - 4pm<br>Sábados: 8am - 12pm",
    "footer.socialTitle": "Redes Sociales",
    "footer.legalTitle": "Legal",
    "footer.terms": "Términos y Condiciones",
    "footer.privacy": "Política de Privacidad"
  },
  en: {
    "header.title": "100% Financed Land in La Fortuna",
    "header.subtitle": "With Grupo EcoQuintas, making your dream of owning land has never been easier.",
    "header.menu1": "About Us",
    "header.menu2": "Projects",
    "header.menu3": "Properties",
    "header.menu4": "Contact Us",
    "header.menu5": "Services",
    "header.menu6": "Financing",

    "nosotros.title": "About Us",
    "nosotros.subtitle1": "Who Are We?",
    "nosotros.text1": "Real Estate is a 100% Costa Rican company dedicated to the commercialization of land in La Fortuna de San Carlos, one of the most beautiful and promising destinations in Costa Rica. Our purpose is to help each person fulfill the dream of owning their own land, offering a close, transparent, and trustworthy service every step of the way.",
    "nosotros.subtitle2": "Our History",
    "nosotros.text2": "With over 20 years of experience in the real estate sector, we have established ourselves as a highly trusted company in land sales, thanks to our personalized service and deep knowledge of the local market. Our priority has always been the client: that’s why we accompany every purchase process with transparency, security, and dedication, ensuring that every decision is made with total confidence. One of our greatest strengths is offering 100% accessible financing plans, with no down payment and no guarantor, allowing more families and individuals to fulfill the dream of becoming landowners.",
    "mision.title": "Mission",
    "mision.text": "Our mission is to accompany and guide our clients in purchasing their ideal land in La Fortuna de San Carlos. We offer a personalized and trustworthy service based on transparency, security, and satisfaction at every step of the process. With 100% financing options, we work passionately to help more people make the dream of owning their own property a reality.",
    "vision.title": "Vision",
    "vision.text": "We aspire to become the leading real estate company in La Fortuna de San Carlos, recognized for the excellence of our service and the trust we build with every client. Our goal is to be the first choice for those seeking to acquire land in an accessible and secure way, backed by a professional and committed team.",

    "proyectos.title": "Condominium and residential lots designed for your lifestyle.",
    "proyecto.ver":"View Project",

    "filters.minPrice": "Min Price (₡)",
    "filters.maxPrice": "Max Price (₡)",
    "filters.minArea": "Min Area (m²)",
    "filters.maxArea": "Max Area (m²)",
    "filters.location": "Location...",
    "filters.condos": "(Condominiums)",
    "filters.sort": "Sort by",
    "filters.priceAsc": "Price Asc",
    "filters.priceDesc": "Price Desc",
    "filters.areaAsc": "Area Asc",
    "filters.areaDesc": "Area Desc",
    "filters.search": "Search",
    "properties.title": "Available properties for your ideal investment",
    "controls.show": "Show:",
    "propiedad.ubicacion": "Location:",
    "propiedad.precio": "Price:",
    "propiedad.precioMetro": "| ₡/m²:",
    "propiedad.area": "Area:",
    "propiedad.descuento": "Discount:",
    "propiedad.pagoMensual": "Monthly payment (10 years):",
    "propiedad.condominio": "Condominium:",
    "propiedad.verDetalles": "View Details",

    "contact.teamTitle": "Contact Our Sales Team",
    "equipo.correo": "Email",
    "equipo.llamar": "Call",
    "contact.formTitle": "Contact Us",
    "contact.labelName": "First Name",
    "contact.labelLastName": "Last Name",
    "contact.labelEmail": "Email Address",
    "contact.labelPhone": "Phone Number",
    "contact.labelCountry": "Country",
    "contact.selectCountry": "Select your country",
    "contact.optionOther": "Other",
    "contact.labelMessage": "Message",
    "contact.labelVerify": "Are you human? Type \"yes\"",
    "contact.buttonSend": "Send",
    "contact.titleName": "Letters only",
    "contact.titleLastName": "Letters only",
    "contact.titlePhone": "Numbers only",
    "contact.titleVerify": "Type yes to continue",

    "services.heading": "Ask about our additional services",

    "finance.title": "Calculate your payment easily and quickly",
    "finance.labelPrice": "Lot price (₡)",
    "finance.placeholderPrice": "Enter the lot price",
    "finance.labelTerm": "Financing term",
    "finance.term60": "5 years – 60 installments",
    "finance.term96": "8 years – 96 installments",
    "finance.term120": "10 years – 120 installments",
    "finance.term180": "15 years – 180 installments",
    "finance.term240": "20 years – 240 installments",
    "finance.labelType": "Type of financing",
    "finance.optionUs": "With us – 12% annual",
    "finance.buttonCalculate": "Calculate monthly payment",
    "finance.labelResult": "Result",
    "finance.placeholderResult": "Monthly payment amount",

    "footer.addressTitle": "Address",
    "footer.addressText": "La Fortuna, San Carlos<br>Alajuela, Costa Rica",
    "footer.hoursTitle": "Business Hours",
    "footer.hoursText": "Monday to Friday: 8am - 4pm<br>Saturdays: 8am - 12pm",
    "footer.socialTitle": "Social Media",
    "footer.legalTitle": "Legal",
    "footer.terms": "Terms and Conditions",
    "footer.privacy": "Privacy Policy"
  }
};

// Funcion de traduccion
function aplicarTraduccion(idioma) {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const clave = el.getAttribute('data-i18n');
    let traduccion = traducciones[idioma]?.[clave];
    if (!traduccion) return;
    const contieneSalto = traduccion.includes('\n');
    if (contieneSalto) {
      traduccion = traduccion.replace(/\n/g, '<br>');
    }
    const contieneHTML = /<[^>]+>/.test(traduccion);
    const tieneElementos = el.querySelector('img, span, svg, i');
    if (contieneHTML && !tieneElementos) {
      el.innerHTML = traduccion;
    } else if (tieneElementos) {
      const textoNode = Array.from(el.childNodes).find(n => n.nodeType === Node.TEXT_NODE);
      if (textoNode) {
        textoNode.textContent = contieneHTML ? el.textContent : traduccion;
      } else {
        el.appendChild(document.createTextNode(traduccion));
      }
    } else {
      el.textContent = traduccion;
    }
  });

  document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
    const clave = el.getAttribute('data-i18n-placeholder');
    const traduccion = traducciones[idioma]?.[clave];
    if (traduccion) el.placeholder = traduccion;
  });
}

// Agregar evento al boton de cambio de idioma
function inicializarTraduccion() {
  const idiomaGuardado = localStorage.getItem('idiomaSeleccionado');
  if (idiomaGuardado) {
    idioma = idiomaGuardado;
  }
  const langBtn = document.getElementById('lang-toggle');
  if (!langBtn) {
    setTimeout(inicializarTraduccion, 100);
    return;
  }
  const bandera = idioma === 'es'
    ? '<img src="4_Iconos/icon_england.png" alt="English" class="flag-icon" /> <span>EN</span>'
    : '<img src="4_Iconos/icon_spain.png" alt="Español" class="flag-icon" /> <span>ES</span>';
  langBtn.innerHTML = bandera;

  langBtn.addEventListener('click', () => {
    idioma = idioma === 'es' ? 'en' : 'es';
    localStorage.setItem('idiomaSeleccionado', idioma); 
    const nuevaBandera = idioma === 'es'
      ? '<img src="4_Iconos/icon_england.png" alt="English" class="flag-icon" /> <span>EN</span>'
      : '<img src="4_Iconos/icon_spain.png" alt="Español" class="flag-icon" /> <span>ES</span>';
    langBtn.innerHTML = nuevaBandera;
    aplicarTraduccion(idioma);
  });

  aplicarTraduccion(idioma); 
}

// Carga inicial
window.addEventListener('DOMContentLoaded', () => {
  inicializarTraduccion();
});



